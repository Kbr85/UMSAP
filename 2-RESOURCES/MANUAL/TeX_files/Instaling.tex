\chapter{Obtaining and Installing Utilities for Mass Spectrometry Analysis of Proteins}

\section{Obtaining Utilities for Mass Spectrometry Analysis of Proteins}

UMSAP is distributed free of charge for anyone interested in using it. To obtain a copy of the software just register at \href{https://www.umsap.nl}{www.umsap.nl} and go to the download page.

No extra software or packages are needed for UMSAP to properly work.

So far, UMSAP have been tested in MacOS X \num[parse-numbers=false]{10.12.6} and \num[parse-numbers=false]{10.14.6} and Windows \numrange[range-phrase = /]{7}{10}. Linux users may download the source code of the software and adapt it to their specific distribution of Linux. Support for some Linux distributions will be available in the future. 

\section{Installing Utilities for Mass Spectrometry Analysis of Proteins}

\textit{\textbf{Windows}}

Unzip the file you just downloaded from \href{https://www.umsap.nl}{www.umsap.nl}. Then, copy the folder UMSAP to the location in your file system where you want to keep it. Finally, create a shortcut to the executable file UMSAP.exe found inside the main folder UMSAP. That is all. You are now ready to use UMSAP.

\textit{\textbf{macOS}}

Unzip the file you just downloaded from \href{https://www.umsap.nl}{www.umsap.nl}. Then, just move the UMSAP.app folder to /Applications/. That is all. You are now ready to use UMSAP. 

Depending on the security settings in macOS, it may be needed to explicitly allow UMSAP to be opened the first time the app is used.

\textit{\textbf{Linux}}

Currently, there are no precompiled versions of UMSAP for Linux. Therefore, users using a computer running Linux need to install all the required modules before using UMSAP. For UMSAP \num[parse-numbers=false]{2.1.0} the list of required modules is:

Biopython \num{1.73},\newline pyFPDF \num[parse-numbers=false]{1.7.2}, \newline Python \num[parse-numbers=false]{3.7.1}, \newline Matplotlib \num[parse-numbers=false]{3.0.2}, \newline NumPy \num[parse-numbers=false]{1.16.1},\newline Pandas \num[parse-numbers=false]{0.24.2}, \newline PyInstaller \num[parse-numbers=false]{3.4}, \newline Requests \num[parse-numbers=false]{2.21.0},\newline Scipy \num[parse-numbers=false]{1.2.0}, \newline Statsmodels \num[parse-numbers=false]{0.9.0}, \newline wxPython \num[parse-numbers=false]{4.0.4}

If all these modules are already installed in the computer, then using UMSAP is straightforward. Go to the Downloads page and download the source files for UMSAP \num[parse-numbers=false]{2.1.0}.  Unzip the files. In the terminal, navigate to the newly created UMSAP folder and type python UMSAP.py. This will launch the GUI.

If the modules are not installed, then it is recommended to use conda to create a virtual environment to install everything and run UMSAP. First, check if the Linux distribution you are using (or a close enough distro) is listed \href{https://extras.wxpython.org/wxPython4/extras/linux/}{here}. If this is the case, then you can easily install wxPython with pip as described below. If this is not the case, then you have to build wxPython by yourself. Check \href{https://wxpython.org/blog/2017-08-17-builds-for-linux-with-pip/index.html}{here} for how to do this.

Once you know that you can have a functional wxPython installation just follow the indications below.

First, download Miniconda for Linux from \href{https://docs.conda.io/en/latest/miniconda.html}{here}. Then, open a terminal and navigate to the folder containing the Miniconda installer. The installer will have different names depending on which one you choose in the previous step. Once in the folder containing the Miniconda installer, execute the file with the bash command line interpreter by typing:

bash Miniconda-installer-file

and follow the on-screen instruction. After finishing the installation, close the terminal and open a new one so the changes done by conda take effect.

In the new terminal window type:

conda create --name umsap
\newline
conda activate umsap
\newline
conda install python==3.7.1
\newline
pip install biopython==1.73
\newline

and so on for all the modules listed before.

If you found a compatible wheel for wxPython and your Linux distribution, then install it using pip. You will need to change the gtk version and the linux distribution to suit your case. For example, for gtk3 and ubuntu 16.04 the command line is:

pip install -U -f https://extras.wxpython.org/wxPython4/extras/linux/gtk3/ubuntu-16.04 wxPython

And finally, you are all set. Download the source files for UMSAP \num[parse-numbers=false]{2.1.0} from the Downloads page. Unzip the file and in a terminal navigate to the newly created UMSAP folder and type python UMSAP.py. This will launch the GUI.

\section{Uninstalling Utilities for Mass Spectrometry Analysis of Proteins}

UMSAP will not create any installation file in your computer. Therefore, the only thing you need to do, to completely uninstall UMSAP, is to delete the folder UMSAP.app in macOS or UMSAP in Windows/Linux. You should also delete any shortcut pointing to the executable file of UMSAP and the configuration file .umap\_config.json in your home folder. That is all.  
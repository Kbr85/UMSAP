\chapter{Obtaining and Installing Utilities for Mass Spectrometry Analysis of Proteins}

\section{Obtaining Utilities for Mass Spectrometry Analysis of Proteins}

UMSAP is distributed free of charge for anyone interested in using it. To obtain a copy of the software just register at \href{https://www.umsap.nl}{www.umsap.nl} and go to the download page.

No extra software or packages are needed for UMSAP to properly work.

So far, UMSAP have been tested in MacOS X \num[parse-numbers=false]{10.12.6} and \num[parse-numbers=false]{10.14.4} and Windows \numrange[range-phrase = /]{7}{10}. Linux users may download the source code of the software and adapt it to their specific distribution of Linux. Support for some Linux distributions will be available in the near future. 

\section{Installing Utilities for Mass Spectrometry Analysis of Proteins}

\textit{\textbf{Windows}}

Unzip the file you just downloaded from \href{https://www.umsap.nl}{www.umsap.nl}. Then, copy the folder UMSAP to the location in your file system where you want to keep it. Finally, create a shortcut to the executable file UMSAP.exe found inside the main folder UMSAP and that is all. You are now ready to use UMSAP.

\textit{\textbf{MacOS X}}

Unzip the file you just downloaded from \href{https://www.umsap.nl}{www.umsap.nl}. Then, just move the UMSAP.app folder to /Applications/. That is all. You are now ready to use UMSAP.

\newpage

\textit{\textbf{Linux}}

Currently, there are no precompiled versions of UMSAP for Linux. Therefore, users using a computer running Linux need to install all the required modules before using UMSAP. For UMSAP 2.1 the list of required modules is:

Python 3.7.1\newline
Biopython 1.73\newline
Matplotlib 3.0.2\newline
NumPy 1.16.1\newline
Requests 2.21.0\newline
wxPython 4.0.4

If all these modules are already installed in the computer, then using UMSAP is straightforward. Go to the Downloads page and download the files for Linux in section Version 2.1.  Unzip the files. In the terminal, navigate to the newly created UMSAP folder and type python UMSAP.py. This will launch the GUI.

If the modules are not installed, then it is recommended to use conda to create a virtual environment to install everything and run UMSAP. First, check if the Linux distribution you are using (or a close enough distro) is listed \href{https://extras.wxpython.org/wxPython4/extras/linux/}{here}. If this is the case then you can easily install wxPython with pip as described below. If this is not the case then you have to build wxPython by yourself. Check \href{https://wxpython.org/blog/2017-08-17-builds-for-linux-with-pip/index.html}{here} for how to do this.

Once you know that you can have a functional wxPython installation do the following.

First, download miniconda for Linux from here. Then, open a terminal and navigate to the folder containing the Miniconda installer. The installer will have different names depending on which one you choose in the previous step. Once in the folder containing the Miniconda installer, execute the file with the bash command line interpreter by typing:

bash Miniconda-installer-file

and follow the on-screen instruction. After finishing the installation close the terminal and open a new one so the changes done by conda take effect.

In the new terminal window type:

conda create --name umsap\newline
conda activate umsap\newline
conda install python==3.7.1\newline
pip install biopython==1.73\newline
pip install requests==2.21.0\newline
pip install matplotlib==3.0.2

Installing matplotlib should install numpy 1.16.1 or superior, if this is not the case type

pip install numpy==1.16.1

If you found a compatible wheel for wxPython and your Linux distribution here, then install it using pip. You will need to change the gtk version and the linux distribution to suit your case. For gtk3 and ubuntu 16.04 the command line is:

\newpage

pip install -U -f https://extras.wxpython.org/wxPython4/extras/linux/gtk3/ubuntu-16.04 wxPython

And finally, you are all set. Download the files for Linux in the section Version 2.1 of the Downloads page. Unzip the file and in a terminal navigate to the newly created UMSAP folder and type python UMSAP.py. This will launch the GUI.

\section{Uninstalling Utilities for Mass Spectrometry Analysis of Proteins}

UMSAP will not create any installation file in your computer. Therefore, the only thing you need to do, to completely uninstall UMSAP, is to delete the folder UMSAP.app in MacOS X or UMSAP in Windows/Linux. In addition, you should delete any shortcut pointing to the executable file of UMSAP. That is all.  